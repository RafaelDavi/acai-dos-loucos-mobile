import{Q as V}from"./QResizeObserver.e530f692.js";import{p as Q,i as p,q as d,t as q,r as b,c as f,w as v,x as w,h as m,g as C,v as B,B as O}from"./index.6b2a4ffc.js";import{b as P,h as L}from"./render.38afe27e.js";var D=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:o}){const{proxy:{$q:r}}=C(),a=p(q,d);if(a===d)return console.error("QHeader needs to be child of QLayout"),d;const i=b(parseInt(e.heightHint,10)),s=b(!0),u=f(()=>e.reveal===!0||a.view.value.indexOf("H")!==-1||r.platform.is.ios&&a.isContainer.value===!0),g=f(()=>{if(e.modelValue!==!0)return 0;if(u.value===!0)return s.value===!0?i.value:0;const t=i.value-a.scroll.value.position;return t>0?t:0}),y=f(()=>e.modelValue!==!0||u.value===!0&&s.value!==!0),z=f(()=>e.modelValue===!0&&y.value===!0&&e.reveal===!0),F=f(()=>"q-header q-layout__section--marginal "+(u.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(y.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),$=f(()=>{const t=a.rows.value.top,c={};return t[0]==="l"&&a.left.space===!0&&(c[r.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),t[2]==="r"&&a.right.space===!0&&(c[r.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),c});function l(t,c){a.update("header",t,c)}function h(t,c){t.value!==c&&(t.value=c)}function H({height:t}){h(i,t),l("size",t)}function I(t){z.value===!0&&h(s,!0),o("focusin",t)}v(()=>e.modelValue,t=>{l("space",t),h(s,!0),a.animate()}),v(g,t=>{l("offset",t)}),v(()=>e.reveal,t=>{t===!1&&h(s,e.modelValue)}),v(s,t=>{a.animate(),o("reveal",t)}),v(a.scroll,t=>{e.reveal===!0&&h(s,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const x={};return a.instances.header=x,e.modelValue===!0&&l("size",i.value),l("space",e.modelValue),l("offset",g.value),w(()=>{a.instances.header===x&&(a.instances.header=void 0,l("size",0),l("offset",0),l("space",!1))}),()=>{const t=P(n.default,[]);return e.elevated===!0&&t.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(m(V,{debounce:0,onResize:H})),m("header",{class:F.value,style:$.value,onFocusin:I},t)}}}),K=Q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:o}}=C(),r=p(q,d);if(r===d)return console.error("QPage needs to be a deep child of QLayout"),d;if(p(B,d)===d)return console.error("QPage needs to be child of QPageContainer"),d;const i=f(()=>{const u=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const g=r.isContainer.value===!0?r.containerHeight.value:o.screen.height;return e.styleFn(u,g)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-u+"px":o.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":o.screen.height-u+"px"}}),s=f(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:s.value,style:i.value},L(n.default))}});const M=O({carrinho:[],pedidos:[],nextOrderId:1,cpf:null,nome:"",endereco:"",logar(e){this.cpf=e},logarPessoa(e){this.nome=e},logarEndereco(e){this.endereco=e},pontos(e){const n=this.pedidos.filter(a=>a.cpf===e);if(n.length===0)return 0;const r=n.reduce((a,i)=>i.id>a.id?i:a).total;return parseFloat((r/10).toFixed(2))},adicionarItem(e){this.carrinho.push(e)},limparCarrinho(){this.carrinho.length=0},get total(){return this.carrinho.reduce((e,n)=>e+n.valor,0).toFixed(2)},removerItem(e){if(!e||!e.id){console.error("Item inv\xE1lido ou sem ID:",e);return}const n=this.carrinho.findIndex(o=>o.id===e.id);n!==-1&&this.carrinho.splice(n,1)},adicionarPedido(e){e.id=this.nextOrderId++,this.pedidos.push(e)}});export{D as Q,K as a,M as s};
